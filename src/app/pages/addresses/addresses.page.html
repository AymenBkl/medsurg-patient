<app-header *ngIf="!isOrder" [type]="'page'"></app-header>
<app-header *ngIf="isOrder" [page]="translateService.translate('ADDRESS')" [type]="'modal'"></app-header>


<ion-content>
  <ion-grid *ngIf="currentUser">
    <ion-row *ngIf="!addAddress">
      <ion-col class="col" size="12" *ngFor="let address of currentUser.addresses;let i = index">
        <ion-card lines="none" class="card" [class.selected]="i + 1 == selectedAddress" (click)="selectAddress(i)">
          <div class="main-container">
            <div class="container-info">  
              <div class="address">
                <ion-label class="label">
                  <ion-icon class="icon"  src="/../../../assets/imgs/street-name.svg"></ion-icon> {{translateService.translate("CITY")}} : {{address.city}}
                </ion-label>
              </div>
              <div class="address">
                <ion-label class="label">
                  <ion-icon class="icon"  src="../../../assets/imgs/street-name.svg"></ion-icon> {{translateService.translate("STREET_NAME")}} {{address.streetName1}}
                </ion-label>
              </div>
              <div class="address">
                <ion-label class="label">
                  <ion-icon class="icon"  src="../../../assets/imgs/street-name.svg"></ion-icon> {{translateService.translate("STREET_NAME1")}} {{address.streetName2}}
                </ion-label>
              </div>
              <div class="address">
                <ion-label class="label">
                  <ion-icon class="icon"  src="../../../assets/imgs/mailbox.svg"></ion-icon> {{translateService.translate("POSTALCODE")}} {{address.postalCode}}
                </ion-label>
              </div>
              <div class="address">
                <ion-label class="label">
                  <ion-icon class="icon"  src="../../../assets/imgs/building.svg"></ion-icon> {{translateService.translate("BUILDING_NUMBER")}} {{address.buildingNumber}}
                </ion-label>
              </div>
            </div>
            <hr>
          </div>
      </ion-card>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="addAddress">
      <ion-col size="12" >
        <app-add-address (addressAdded)="addressAdded($event)"></app-add-address>
      </ion-col>
    </ion-row>
    <ion-row class="bottom-row" *ngIf="!addAddress">
      <ion-col size="12" >
        <ion-button shape="round" size="default" color="success"  expand="full" (click)="goToAddAddress()" >
          <ion-text>{{translateService.translate("ADD_ADDRESS")}}</ion-text>
        </ion-button>
      </ion-col>
      <ion-col size="12" *ngIf="selectedAddress" >
        <ion-button shape="round" size="default" color="primary"  expand="full" (click)="selectedAddressOrder()" >
          <ion-text>{{translateService.translate("SELECT_ADDRESS")}}</ion-text>
        </ion-button>
      </ion-col>
    </ion-row>
  </ion-grid>
  
  <div class="spin" *ngIf="!currentUser">
    <ion-spinner name="bubbles"></ion-spinner>
  </div>
</ion-content>